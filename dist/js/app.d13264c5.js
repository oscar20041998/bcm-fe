(function(t){function a(a){for(var e,i,n=a[0],l=a[1],c=a[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);d&&d(a);while(m.length)m.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,a=0;a<r.length;a++){for(var o=r[a],e=!0,n=1;n<o.length;n++){var l=o[n];0!==s[l]&&(e=!1)}e&&(r.splice(a--,1),t=i(i.s=o[0]))}return t}var e={},s={app:0},r=[];function i(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,a,o){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)i.d(o,e,function(a){return t[a]}.bind(null,e));return o},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var d=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,a,o){t.exports=o("56d7")},"0d74":function(t,a,o){"use strict";var e=o("7af9"),s=o.n(e);s.a},2358:function(t,a,o){"use strict";var e=o("da28"),s=o.n(e);s.a},"2cdb":function(t,a,o){},3288:function(t,a,o){},"425e":function(t,a,o){"use strict";var e=o("61d9"),s=o.n(e);s.a},"47bd":function(t,a,o){},"56d7":function(t,a,o){"use strict";o.r(a);o("e260"),o("e6cf"),o("cca6"),o("a79d");var e=o("2b0e"),s=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{attrs:{id:"navigation-bar"}},[o("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark w-responsive"},[o("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navaigation-bar"}},[o("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0 column"},["ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole||"ROLE_STAFF"==t.getRole?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"Home"}}},[o("b-icon",{attrs:{icon:"house-door"}}),t._v(" Home ")],1)],1)]:t._e(),"ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm btn-responsive",attrs:{to:{name:"AccountUser"}}},[o("b-icon",{attrs:{icon:"person-circle"}}),t._v(" Account Mangamement ")],1)],1)]:t._e(),"ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"User"}}},[o("b-icon",{attrs:{icon:"people"}}),t._v(" User Management ")],1)],1)]:t._e(),"ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole||"ROLE_STAFF"==t.getRole?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"FoodAndDrink"}}},[o("b-icon",{attrs:{icon:"cup-straw"}}),t._v(" Food & Drink Management ")],1)],1),o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"Sale"}}},[o("b-icon",{attrs:{icon:"cart4"}}),t._v(" Sale Management ")],1)],1),"ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"TransactionList"}}},[o("b-icon",{attrs:{icon:"reception4"}}),t._v(" Transaction List ")],1)],1)]:t._e()]:t._e(),0==t.isLogin?[o("li",{staticClass:"nav-item"},[o("router-link",{staticClass:"nav-link btn btn-dark btn-sm",attrs:{to:{name:"Login"}}},[o("b-icon",{attrs:{icon:"box-arrow-right"}}),t._v(" Login ")],1)],1)]:t._e()],2)]),"ROLE_ADMINISTRATOR"==t.getRole||"ROLE_MANAGER"==t.getRole||"ROLE_STAFF"==t.getRole?[o("b-list-group-item",{staticClass:"d-flex align-items-center",staticStyle:{height:"30px"}},[o("b-avatar",{staticClass:"mr-2",attrs:{size:"sm"}}),o("span",{staticClass:"mr-auto"},[o("i",[t._v("Hello,"+t._s(t.getUserName))])]),o("div",{staticClass:"btn-group dropleft"},[o("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"false","aria-expanded":"false"}},[t._v(" Option "),o("b-icon",{attrs:{icon:"gear-fill","aria-hidden":"true"}})],1),o("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[o("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(a){return t.goToProfileUser()}}},[o("b-icon",{attrs:{icon:"file-person-fill"}}),t._v("See profile ")],1),o("button",{staticClass:"dropdown-item btn-sm",attrs:{type:"button"},on:{click:function(a){return t.logout()}}},[o("b-icon",{attrs:{icon:"door-open-fill"}}),t._v(" Sign me out ")],1)])])],1)]:t._e()],2),o("router-view")],1)},r=[],i=o("bc3a"),n=o.n(i),l=n.a.create({baseURL:" https://coffee-management-0498.herokuapp.com",headers:{"Content-type":"application/json"}}),c={data:function(){return{timeNow:"",userNameLogIn:this.$store.getters.getUserName}},computed:{isLogin:function(){return this.$store.getters.getIsLogin},getRole:function(){return this.$store.getters.getRoleUser},getUserName:function(){return this.$store.getters.getUserName}},mounted:function(){this.clear()},methods:{clear:function(){var t=this,a=JSON.parse(localStorage.getItem("user")).accountId||"",o=JSON.parse(localStorage.getItem("user")).userName||"";null==a&&""==a||null==o&&""==a||l.post("/api/account/logout-user/"+a+"/"+o).then((function(a){window.onload=window.localStorage.clear(),window.onunload=window.localStorage.clear(),t.$store.commit("setIsLogin",!1),t.$router.push({name:"Login"})})).catch((function(t){alert(t)}))},goToProfileUser:function(){this.$router.push({name:"ProfileUser"})},logout:function(){var t=this;if(null!=localStorage.getItem("user")){var a=JSON.parse(localStorage.getItem("user")).accountId,o=JSON.parse(localStorage.getItem("user")).userName;l.post("/api/account/logout-user/"+a+"/"+o).then((function(a){"200"==a.status&&(localStorage.setItem("user",""),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"You singed out already !!!...",icon:"success",showConfirmButton:!1,timer:2100}),t.$store.commit("setRoleUser",null),t.$store.commit("setIsLogin",!1),t.$router.push({name:"Login"}))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))}else this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"You has been singed out before already !!!...",icon:"info",showConfirmButton:!1,timer:2100})}}},d=c,u=(o("9570"),o("2877")),m=Object(u["a"])(d,s,r,!1,null,null,null),p=m.exports,f=o("8c4f"),v=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("h5",[o("b-icon",{attrs:{icon:"house-door-fill"}}),t._v(" OPERTATION SYSTEM LOG ")],1)]),o("div",{staticClass:"col-md-5"},[o("div",{staticClass:"col-md-5 hidden",staticStyle:{"text-align":"center"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1)])]),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleInterval","data-ride":"carousel"}},[o("div",{staticClass:"carousel-inner"},[o("div",{staticClass:"carousel-item active",attrs:{"data-interval":"1000"}},[o("h5",[t._v("PERSONAL ACTIVITIES LOG")]),o("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px"}},[o("div",{staticClass:"col-sm-2"},[o("div",[o("b-form-input",{attrs:{list:"my-list-id"},model:{value:t.searchLogRequest.userName,callback:function(a){t.$set(t.searchLogRequest,"userName",a)},expression:"searchLogRequest.userName"}}),o("datalist",{attrs:{id:"my-list-id"}},t._l(t.listAccountAvailabel,(function(a){return o("option",{key:a.accountId},[t._v(" "+t._s(a.userName)+" ")])})),0)],1)]),o("div",{staticClass:"col-md-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchLogRequest.date,expression:"searchLogRequest.date"}],staticClass:"form-control",attrs:{id:"input-filter",type:"date",placeholder:"Search by card number/ create by","aria-label":"Search"},domProps:{value:t.searchLogRequest.date},on:{input:function(a){a.target.composing||t.$set(t.searchLogRequest,"date",a.target.value)}}})]),o("div",{staticClass:"col-md-1"},[o("button",{staticClass:"btn btn-primary",attrs:{id:"button-search"},on:{click:function(a){return t.searchPersonalLog()}}},[o("b-icon",{attrs:{icon:"search"}}),t._v(" Find")],1)]),o("div",{staticClass:"col-sm-6"},[o("button",{staticClass:"btn btn-secondary",attrs:{id:"button-search"},on:{click:function(a){return t.getListSytemLog()}}},[o("b-icon",{attrs:{icon:"search"}}),t._v(" Find by me")],1)])]),o("div",{staticClass:"card-body"},[o("div",{staticStyle:{height:"600px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[t._m(0),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.sytemLogList,(function(a){return o("tr",{key:a.userName},[o("th",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"person-fill",animation:"no-fade","font-scale":"1"}}),t._v(" "+t._s(a.userName)+" ")],1),o("td",[t._v(t._s(a.action))]),o("td",["Success"===a.status?[o("b-icon",{attrs:{icon:"check-circle-fill","font-scale":"1",variant:"success"}})]:"Failed"===a.status?[o("b-icon",{attrs:{icon:"x-circle-fill","font-scale":"1",variant:"danger"}})]:t._e(),t._v(" "+t._s(a.status)+" ")],2),o("td",[t._v(t._s(a.actionDate))]),t._m(1,!0)])})),0)])])])]),"ROLE_ADMINISTRATOR"==t.currentRole||"ROLE_MANAGER"==t.currentRole?[o("div",{staticClass:"carousel-item"},[o("h5",[t._v("ACCOUNT USER ACTIVITIVE LOG")]),o("div",{staticClass:"card-body"},[o("div",{staticStyle:{height:"600px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[t._m(2),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.accountUserLog,(function(a){return o("tr",{key:a.userName},[o("th",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"check-fill",animation:"no-fade","font-scale":"1"}}),t._v(" "+t._s(a.accountId)+" ")],1),o("td",[t._v(t._s(a.userName))]),o("td",[o("strong",[t._v(t._s(a.userAction))])]),o("td",[t._v(t._s(a.createdBy))]),o("td",[o("i",[t._v(t._s(a.createdDate))])])])})),0)])])])]),o("div",{staticClass:"carousel-item"},[o("h5",[t._v("USER ACTIVITIVE LOG")]),o("div",{staticClass:"card-body"},[o("div",{staticStyle:{height:"600px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-user-detail",cellspacing:"0"}},[t._m(3),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.userLog,(function(a){return o("tr",{key:a.userId},[o("th",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"person-fill",animation:"no-fade","font-scale":"1"}}),t._v(" "+t._s(a.userId)+" ")],1),o("td",[t._v(t._s(a.fullName))]),o("td",[t._v(t._s(a.phoneNumber))]),o("td",[t._v(t._s(a.email))]),o("td",[o("strong",[t._v(t._s(a.userAction))])]),o("td",[t._v(t._s(a.createdBy))]),o("td",[o("i",[t._v(t._s(a.createdDate))])])])})),0)])])])]),o("div",{staticClass:"carousel-item"},[o("h5",[t._v("PRODUCT ACTIVITIVE LOG")]),o("div",{staticClass:"card-body"},[o("div",{staticStyle:{height:"600px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-user-detail",cellspacing:"0"}},[t._m(4),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.productLog,(function(a){return o("tr",{key:a.id},[o("th",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"box",animation:"no-fade","font-scale":"1"}}),t._v(" "+t._s(a.productName)+" ")],1),o("td",[t._v(t._s(a.price))]),o("td",[o("strong",[t._v(t._s(a.userAction))])]),o("td",[t._v(t._s(a.createBy))]),o("td",[o("i",[t._v(t._s(a.createDate))])])])})),0)])])])])]:t._e()],2)]),o("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleInterval",role:"button","data-slide":"prev"}},[o("b-icon",{attrs:{icon:"arrow-left-circle-fill","font-scale":"4",variant:"secondary"}})],1),o("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleInterval",role:"button","data-slide":"next"}},[o("b-icon",{attrs:{icon:"arrow-right-circle-fill","font-scale":"4",variant:"secondary"}})],1)])},h=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("User name")]),o("th",{attrs:{scope:"col"}},[t._v("Action")]),o("th",{attrs:{scope:"col"}},[t._v("Status")]),o("th",{attrs:{scope:"col"}},[t._v("Action on time")]),o("th",{attrs:{scope:"col"}},[t._v("Log by")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("td",[o("i",[t._v("SYSTEM")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("AccountID")]),o("th",{attrs:{scope:"col"}},[t._v("User name")]),o("th",{attrs:{scope:"col"}},[t._v("Action")]),o("th",{attrs:{scope:"col"}},[t._v("Created by")]),o("th",{attrs:{scope:"col"}},[t._v("Created date")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("User ID")]),o("th",{attrs:{scope:"col"}},[t._v("Full name")]),o("th",{attrs:{scope:"col"}},[t._v("Phone number")]),o("th",{attrs:{scope:"col"}},[t._v("Email")]),o("th",{attrs:{scope:"col"}},[t._v("Action")]),o("th",{attrs:{scope:"col"}},[t._v("Created by")]),o("th",{attrs:{scope:"col"}},[t._v("Created date")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Product name")]),o("th",{attrs:{scope:"col"}},[t._v("Price")]),o("th",{attrs:{scope:"col"}},[t._v("Action user")]),o("th",{attrs:{scope:"col"}},[t._v("Create by")]),o("th",{attrs:{scope:"col"}},[t._v("Create date")])])])}],g=o("1157"),b=o.n(g),C={name:"DatatablePage",data:function(){return{sytemLogList:[],accountUserLog:[],userLog:[],productLog:[],listAccountAvailabel:[],searchLogRequest:{userName:"",date:""},currentRole:JSON.parse(localStorage.getItem("user")).roleCode}},computed:{},mounted:function(){this.checkLocalStorage(),this.getListSytemLog(),"ROLE_ADMINISTRATOR"!=this.currentRole&&"ROLE_MANAGER"!=this.currentRole||(this.getAccountUserLog(),this.getUserLog(),this.getProductLog(),this.getListAccount())},methods:{checkLocalStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getListAccount:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user")),o=a.accountId;l.get("/api/account/get-list-account-user/"+o).then((function(a){(a.status="200")&&(t.listAccountAvailabel=a.data,b()("#loading").hide())})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})}))},getListSytemLog:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user"));l.get("/system-log/api/get-system-log-by-account/"+a.userName).then((function(a){a.status,t.sytemLogList=a.data,b()("#loading").hide()})).catch((function(a){t.sytemLogList=response.data,b()("#loading").hide()}))},searchPersonalLog:function(){var t=this;b()("#loading").show();var a=this.searchLogRequest;l.post("/system-log/api/search-personal-log",a).then((function(a){"200"==a.status?(t.sytemLogList=a.data,b()("#loading").hide()):(t.sytemLogList="",b()("#loading").hide())})).catch((function(a){t.sytemLogList="",b()("#loading").hide()}))},getAccountUserLog:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user"));l.get("/system-log/api/get-account-user-log/"+a.accountId).then((function(a){"200"==a.status?(t.accountUserLog=a.data,b()("#loading").hide()):t.$router.push({name:"NotFound"})})).catch((function(a){t.$router.push({name:"NotFound"})}))},getUserLog:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user"));l.get("/system-log/api/get-user-log/"+a.accountId).then((function(a){"200"==a.status?(t.userLog=a.data,b()("#loading").hide()):t.$router.push({name:"NotFound"})})).catch((function(a){t.$router.push({name:"NotFound"})}))},getProductLog:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user"));l.get("/system-log/api/get-product-log/"+a.accountId).then((function(a){"200"==a.status?(t.productLog=a.data,b()("#loading").hide()):t.$router.push({name:"NotFound"})})).catch((function(a){t.$router.push({name:"NotFound"})}))}}},y=C,w=(o("425e"),Object(u["a"])(y,v,h,!1,null,"1cea74ea",null)),_=w.exports,I=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron",attrs:{id:"form-login"}},[o("div",{staticClass:"container"},[t._m(0),o("hr",{staticClass:"my-1"}),o("br"),o("div",{staticClass:"card-log-in",staticStyle:{height:"500px"}},[o("div",{staticClass:"card-header"},[o("b-icon",{attrs:{icon:"person-circle","font-scale":"1"}}),t._v(" Login info ")],1),o("div",{staticClass:"card-body"},[o("div",{staticClass:"form-group"},[o("div",{staticClass:"row"},[t._m(1),o("div",{staticClass:"col-md-8"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.userRequest.userName,expression:"userRequest.userName"}],staticClass:"form-control",attrs:{name:"username",type:"text",maxlength:"20"},domProps:{value:t.userRequest.userName},on:{input:function(a){a.target.composing||t.$set(t.userRequest,"userName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"row"},[t._m(2),o("div",{staticClass:"col-md-8"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.userRequest.passWord,expression:"userRequest.passWord"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.userRequest.passWord},on:{input:function(a){a.target.composing||t.$set(t.userRequest,"passWord",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])])]),o("div",{staticClass:"card-footer"},[o("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{id:"button-login",variant:"light"},on:{click:function(a){return t.login()}}},[o("div",{staticClass:"hiden"},[o("b-icon",{attrs:{id:"loading",icon:"arrow-counterclockwise",animation:"spin-reverse-pulse","font-scale":"1"}}),t._v(" Sign in ")],1)])]),o("hr",{staticClass:"my-2"}),o("i",[o("b-icon",{attrs:{icon:"watch"}}),t._v("List account actived nearly ")],1),o("div",{staticStyle:{height:"200px","min-height":"10px","overflow-y":"scroll","margin-top":"10px"}},t._l(t.listAccounts,(function(a){return o("b-list-group",{key:a.accountId},[o("b-list-group-item",{attrs:{button:""},on:{click:function(o){return t.convertUserName(a)}}},[t._v(" "+t._s(a.userName)+" - "),o("i",[t._v("Last login on: "+t._s(a.lasLoginDate))])])],1)})),1)])])])},N=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",staticStyle:{"margin-left":"30%"}},[e("div",{staticClass:"col-md-1"},[e("img",{attrs:{src:o("d054")}})]),e("div",{staticClass:"col-md-8"},[e("h1",[t._v("COFFEE ADMINSTRATOR")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"col-md-3"},[o("label",[t._v("User log in")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"col-md-3"},[o("label",[t._v("Password")])])}],P=o("5530"),S=o("7bb1"),B=o("4c93");Object(S["b"])("required",Object(P["a"])(Object(P["a"])({},B["a"]),{},{message:"This field is required."}));var O={data:function(){return{listAccounts:[],userRequest:{userName:"",passWord:""}}},mounted:function(){$("#loading").hide(),this.isLogIn(),this.getListAccountLoginNearly()},methods:{isLogIn:function(){var t=localStorage.getItem("user");t?this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"You are in session !!!...",icon:"success",showConfirmButton:!1,timer:2100}):this.$router.push({name:"Login"})},login:function(){var t=this,a={userName:this.userRequest.userName,passWord:this.userRequest.passWord};""!=this.userRequest.userName&&""!=this.userRequest.passWord?($("#loading").show(),l.post("/api/account/login",a).then((function(a){"LOG IN SUCCESS"==a.data.message?"BLOCKED"==a.data.user.status?(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Your account is being blocked. Please contact to your administrator. !!!!",icon:"warning",showConfirmButton:!1,timer:5e3}),$("#loading").hide()):(localStorage.setItem("user",JSON.stringify(a.data.user)),$("#loading").hide(),t.$store.commit("setRoleUser",JSON.parse(localStorage.getItem("user")).roleCode),t.$store.commit("setUserName",JSON.parse(localStorage.getItem("user")).userName),t.$store.commit("setIsLogin",!0),t.$router.push({name:"Home"})):"DUPLICATED LOG IN"==a.data.message&&(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Your account is being used already !!!...",icon:"info",showConfirmButton:!1,timer:5e3}),$("#loading").hide())})).catch((function(a){$("#loading").hide(),t.$router.push({name:"Unauthorize"})}))):this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to identify user",icon:"warning",showConfirmButton:!1,timer:5e3})},getListAccountLoginNearly:function(){var t=this;l.get("/api/account/get-list-account-login-nearly").then((function(a){"200"==a.status&&(t.listAccounts=a.data)})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:5e3})}))},convertUserName:function(t){this.userRequest.userName=t.userName}}},k=O,x=(o("d6db"),Object(u["a"])(k,I,N,!1,null,null,null)),A=x.exports,L=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"d-flex justify-content-center align-items-center",attrs:{id:"main"}},[o("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"10"}}),o("h1",{staticClass:"mr-3 pr-3 align-top border-right inline-block align-content-center"},[t._v("404")]),t._m(0)],1)},R=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"inline-block align-middle"},[o("h3",{staticClass:"font-weight-normal lead",attrs:{id:"desc"}},[t._v("The page you requested was not found. Or your permisstion is not invalid with the page requested. !!!")])])}],E={mounted:function(){}},T=E,M=(o("2358"),Object(u["a"])(T,L,R,!1,null,"b46d5c6e",null)),U=M.exports,D=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("h5",{staticStyle:{"text-align":"center"}},[o("b-icon",{attrs:{icon:"person-circle","font-scale":"2"}}),t._v(" PROFILE DETAIL OF USER ")],1),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleInterval","data-ride":"carousel"}},[o("div",{staticClass:"carousel-inner"},[o("div",{staticClass:"carousel-item active",attrs:{"data-interval":"1000"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"card-header"},[t._v("PERSONAL INFORMATION")]),o("div",{staticClass:"card-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"staticEmail"}},[o("b-icon",{attrs:{icon:"info-circle-fill"}}),t._v(" User ID ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.userId)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"person-square"}}),t._v(" Full name ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.fullName)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-date"}}),t._v(" Birthday ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.dateOfBirth)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Id card ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.idCard)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"map"}}),t._v(" Address ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.address)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"phone-vibrate"}}),t._v(" Phone number ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.phoneNumber)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"mailbox2"}}),t._v(" Email ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.email)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"cursor"}}),t._v(" Created by ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.createBy)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-check-fill"}}),t._v(" Created on date ")],1),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.createDate)+" ")])])]),o("div",{staticClass:"card-footer"},[o("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#profileUserModal"},on:{click:function(a){return t.hideDivRole()}}},[o("b-icon",{attrs:{icon:" tools"}}),t._v(" EDIT INFORMATION ")],1)])])])]),o("div",{staticClass:"carousel-item"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[t._v("ACCOUNT INFORMATION")]),o("div",{staticClass:"card-body secondary"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:""}},[t._v("Account ID")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.accountId)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("User name")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.userName)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Role code")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.role)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Status")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.statusAccount)+" "),"ACTIVE"===t.profileInfo.statusAccount?[o("b-icon",{attrs:{icon:"check-circle-fill",variant:"success"}})]:"BLOCKED"===t.profileInfo.statusAccount?[o("b-icon",{attrs:{icon:"lock-fill",variant:"danger"}})]:t._e()],2)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Created by")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.accountCreatedBy)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Created date")]),o("div",{staticClass:"col-sm-5"},[t._v(" "+t._s(t.profileInfo.accountCreatedDate)+" ")])])]),o("div",{staticClass:"card-footer"},[o("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#changPasswordUserModal"}},[o("b-icon",{attrs:{icon:"tools"}}),t._v(" CHANGE PASSWORD ")],1)])])])])]),o("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleInterval",role:"button","data-slide":"prev"}},[o("b-icon",{attrs:{icon:"arrow-left-circle-fill","font-scale":"4",variant:"secondary"}})],1),o("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleInterval",role:"button","data-slide":"next"}},[o("b-icon",{attrs:{icon:"arrow-right-circle-fill","font-scale":"4",variant:"secondary"}})],1),o("div",{staticClass:"modal fade",attrs:{id:"profileUserModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(0),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"staticEmail"}},[o("b-icon",{attrs:{icon:"info-circle-fill"}}),t._v(" User ID ")],1),o("div",{staticClass:"col-sm-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userId,expression:"profileInfo.userId"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.profileInfo.userId},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"userId",a.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"person-square"}}),t._v(" Frist name ")],1),o("div",{staticClass:"col-sm-3"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.firstName,expression:"profileInfo.firstName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.firstName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"firstName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"col-sm-4"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.midleName,expression:"profileInfo.midleName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.midleName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"midleName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"col-sm-3"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.lastName,expression:"profileInfo.lastName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.lastName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"lastName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-date"}}),t._v(" Date of birth ")],1),o("div",{staticClass:"col-sm-4"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.dateOfBirth,expression:"profileInfo.dateOfBirth"}],staticClass:"form-control",attrs:{id:"dpDateOfBirth",type:"date"},domProps:{value:t.profileInfo.dateOfBirth},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"dateOfBirth",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Id card ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.idCard,expression:"profileInfo.idCard"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.idCard},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"idCard",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"geo-fill"}}),t._v(" Address ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.address,expression:"profileInfo.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.address},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"address",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"phone-vibrate"}}),t._v(" Phone ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.phoneNumber,expression:"profileInfo.phoneNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"phoneNumber",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"mailbox2"}}),t._v(" Email ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.email,expression:"profileInfo.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.profileInfo.email},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"email",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"form-group row",staticStyle:{display:"none"},attrs:{id:"div-role"}},[o("label",{staticClass:"col-sm-2",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"shield-shaded"}}),t._v(" Role ")],1),o("div",{staticClass:"col-sm-5"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.role,expression:"profileInfo.role"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.profileInfo.role},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"role",a.target.value)}}})])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[o("b-icon",{attrs:{icon:"bookmark-x"}}),t._v(" CANCEL ")],1),o("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){return t.saveProfileUser()}}},[o("b-icon",{attrs:{icon:"box-arrow-in-down-right"}}),t._v("SAVE CHANGE ")],1)])])])]),o("div",{staticClass:"modal fade",attrs:{id:"changPasswordUserModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(1),o("div",{staticClass:"modal-body"},[o("form",[o("div",{staticClass:"form-group"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordChange.currentPass,expression:"passwordChange.currentPass"}],staticClass:"form-control",attrs:{type:"password",id:"current-pass",placeholder:"Current password",maxlength:"25"},domProps:{value:t.passwordChange.currentPass},on:{input:function(a){a.target.composing||t.$set(t.passwordChange,"currentPass",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"form-group"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordChange.newPass,expression:"passwordChange.newPass"}],staticClass:"form-control",attrs:{type:"password",id:"new-pass",placeholder:"New password",maxlength:"25"},domProps:{value:t.passwordChange.newPass},on:{input:function(a){a.target.composing||t.$set(t.passwordChange,"newPass",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"form-group"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordChange.confirmNewPass,expression:"passwordChange.confirmNewPass"}],staticClass:"form-control",attrs:{type:"password",id:"confirm-new-pass",placeholder:"Confirm new password",maxlength:"25"},domProps:{value:t.passwordChange.confirmNewPass},on:{input:function(a){a.target.composing||t.$set(t.passwordChange,"confirmNewPass",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){return t.saveChangePassword()}}},[o("b-icon",{attrs:{icon:"box-arrow-in-down-right"}}),t._v(" SAVE AND CHANGE ")],1)])])])])])},q=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" EDIT PROFILE USER ")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("UPDATE PASSWORD")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];o("99af");Object(S["b"])("required",Object(P["a"])(Object(P["a"])({},B["a"]),{},{message:"This field is required."}));var V={data:function(){return{profileInfo:{userId:"",firstName:"",midleName:"",lastName:"",fullName:"",dateOfBirth:"",address:"",phoneNumber:"",createBy:"",createDate:"",accountId:"",userName:"",role:"",status:"",accountCreateBy:"",accountCreateDate:""},passwordChange:{currentPass:"",newPass:"",cofirmNewPass:""}}},mounted:function(){$("#loadingButton").modal("hide"),this.getProfileUser()},methods:{goToChangPassword:function(){this.$router.push({name:"ChangePassword"})},getProfileUser:function(){var t=this;this.checkLoaclStorage();var a=JSON.parse(localStorage.getItem("user")),o=a.userId,e=a.accountId;l.get("/api/account/get-profile-user/"+o+"/"+e).then((function(a){"200"==a.status&&(t.profileInfo=a.data,t.profileInfo.fullName=a.data.firstName.concat(" ").concat(a.data.midleName).concat(" ").concat(a.data.lastName))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))},saveChangePassword:function(){var t=this,a=JSON.parse(localStorage.getItem("user")),o={accountId:a.accountId,userId:a.userId,currentPass:this.passwordChange.currentPass,newPass:this.passwordChange.newPass,confirmNewPass:this.passwordChange.confirmNewPass};""!=o.currentPass&&""!=o.newPass&&""!=o.confirmNewPass?l.post("/api/account/change-password",o).then((function(a){"200"==a.status?(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Change password success !!!...",icon:"success",showConfirmButton:!1,timer:2100}),$("#changPasswordUserModal").modal("hide")):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Change password not sucess"+error,icon:"error",showConfirmButton:!1,timer:2100}),$("#changPasswordUserModal").modal("hide"))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Change password not sucess"+a,icon:"error",showConfirmButton:!1,timer:2100}),$("#changPasswordUserModal").modal("hide"),console.log(a)})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to change password",icon:"error",showConfirmButton:!1,timer:2100}),$("#changPasswordUserModal").modal("hide"))},saveProfileUser:function(){var t=this,a=JSON.parse(localStorage.getItem("user")),o=a.accountId,e={accountIdValid:o,userId:this.profileInfo.userId,fristName:this.profileInfo.firstName,midleName:this.profileInfo.midleName,lastName:this.profileInfo.lastName,idCard:this.profileInfo.idCard,address:this.profileInfo.address,phoneNumber:this.profileInfo.phoneNumber,role:this.profileInfo.role,email:this.profileInfo.email,dateOfBirth:this.profileInfo.dateOfBirth,createBy:a.userName};""!=e.fristName&&""!=e.midleName&&""!=e.lastName&&""!=e.idCard&&""!=e.dateOfBirth&&""!=e.address&&""!=e.phoneNumber&&""!=e.email?l.post("/user/api/create-new-user",e).then((function(a){"200"==a.status?($("#profileUserModal").modal("hide"),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Save info success !!!",icon:"success",showConfirmButton:!1,timer:2100})):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Save not sucess",icon:"error",showConfirmButton:!1,timer:2100}),$("#profileUserModal").modal("hide"))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Save info not sucess"+a,icon:"error",showConfirmButton:!1,timer:2100}),$("#profileUserModal").modal("hide")})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to save ",icon:"error",showConfirmButton:!1,timer:2100}),$("#profileUserModal").modal("hide"))},checkLoaclStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))}}},F=V,j=(o("9933"),Object(u["a"])(F,D,q,!1,null,"60085057",null)),J=j.exports,G=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("h5",[o("b-icon",{attrs:{icon:"building"}}),t._v(" SYSTEM ACCOUNT ")],1)]),o("div",{staticClass:"col-md-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.ctiteriaUserNameSearch,expression:"ctiteriaUserNameSearch"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.ctiteriaUserNameSearch},on:{keyup:function(a){return t.searchAccountByUserName()},input:function(a){a.target.composing||(t.ctiteriaUserNameSearch=a.target.value)}}})]),o("div",{staticClass:"col-md-1"},[o("b-icon",{attrs:{icon:"search"}})],1)]),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"col-md-14",staticStyle:{"text-align":"center"},attrs:{id:"divLoading"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1),o("div",{staticStyle:{height:"670px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Account ID")]),o("th",{attrs:{scope:"col"}},[t._v("Used by")]),o("th",{attrs:{scope:"col"}},[t._v("Role")]),o("th",{attrs:{scope:"col"}},[t._v("User name")]),o("th",{attrs:{scope:"col"}},[t._v("Status account")]),o("th",{attrs:{scope:"col"}},[t._v("Created by")]),o("th",{attrs:{scope:"col"}},[t._v("Created date")]),"ROLE_ADMINISTRATOR"==t.currentRole||"ROLE_MANAGER"==t.currentRole?[o("th",{attrs:{scope:"col"}},[t._v("Option")])]:t._e()],2)]),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.listAccount,(function(a){return o("tr",{key:a.accountId},[o("td",[t._v(t._s(a.accountId))]),o("td",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"person-fill",animation:"no-fade","font-scale":"1"}}),t._v(t._s(a.usedBy)+" ")],1),o("td",[t._v(" "+t._s(a.role)+" "),"Role Administrator"===a.role?[o("b-icon",{attrs:{icon:"star-fill",animation:"fade","font-scale":"1",variant:"warning"}})]:t._e()],2),o("td",["0"===a.isLogin?[o("b-icon",{attrs:{icon:"circle-fill",animation:"throb","font-scale":"1",variant:"success",title:"Being used"}})]:[o("b-icon",{attrs:{icon:"circle-fill","font-scale":"1",variant:"danger",title:"Not active now"}})],t._v(" "+t._s(a.userName)+" ")],2),o("td",["ACTIVE"===a.status?[o("b-icon",{attrs:{icon:"unlock-fill","font-scale":"1",variant:"success"}})]:"BLOCKED"===a.status?[o("b-icon",{attrs:{icon:"lock-fill",animation:"throb","font-scale":"1",variant:"danger"}})]:t._e(),t._v(" "+t._s(a.status)+" ")],2),o("td",[t._v(t._s(a.createdBy))]),o("td",[t._v(t._s(a.createdDate))]),o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},["ROLE_ADMINISTRATOR"!=t.currentRole&&"ROLE_MANAGER"!=t.currentRole||"Role Administrator"==a.role||t.currentAccountId==a.accountId?t._e():[o("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#accountUserModal"},on:{click:function(o){return t.getAccountDetail(a.accountId)}}},[o("b-icon",{attrs:{icon:"pen-fill"}})],1)]],2)])])])})),0)])]),o("div",{staticClass:"modal fade",attrs:{id:"accountUserModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(0),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"code"}}),t._v(" Account ID ")],1),o("div",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.accountInfo.accountId)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"person-square"}}),t._v(" Used By ")],1),o("div",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.accountInfo.usedBy)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-date"}}),t._v(" Role ")],1),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"left"}},[t._v(" "+t._s(t.accountInfo.role)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Account name ")],1),o("div",{staticClass:"col-sm-6"},[t._v(" "+t._s(t.accountInfo.userName)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"key-fill"}}),t._v(" Password ")],1),o("div",{staticClass:"col-sm-6"},[t._v(" "+t._s(t.accountInfo.password)+" ")]),"ACTIVE"!=t.accountInfo.status&&"BLOCKED"!=t.accountInfo.status||"ROLE_ADMINISTRATOR"!=t.currentRole&&"ROLE_MANAGER"!=t.currentRole?t._e():[o("div",{staticClass:"col-sm-1"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"Reset password for this account"},on:{click:function(a){return t.resetPassword()}}},[o("b-icon",{attrs:{icon:"bootstrap-reboot"}})],1)])]],2),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"phone-vibrate"}}),t._v(" Status ")],1),o("div",{staticClass:"col-sm-6"},[t._v(" "+t._s(t.accountInfo.status)+" ")]),"ACTIVE"!=t.accountInfo.status||"ROLE_ADMINISTRATOR"!=t.currentRole&&"ROLE_MANAGER"!=t.currentRole?"BLOCKED"!=t.accountInfo.status||"ROLE_ADMINISTRATOR"!=t.currentRole&&"ROLE_MANAGER"!=t.currentRole?t._e():[o("div",{staticClass:"col-sm-1"},[o("button",{staticClass:"btn btn-success",attrs:{type:"button",title:"Unblock this account"},on:{click:function(a){return t.unblockAccountUser()}}},[o("b-icon",{attrs:{icon:"unlock-fill"}})],1)])]:[o("div",{staticClass:"col-sm-1"},[o("button",{staticClass:"btn btn-danger",attrs:{type:"button",title:"Block this account"},on:{click:function(a){return t.blockAccountUser()}}},[o("b-icon",{attrs:{icon:"lock-fill"}})],1)])]],2),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"mailbox2"}}),t._v(" Create by ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.accountInfo.createdBy)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar"}}),t._v(" Create date ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.accountInfo.createdDate)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-check"}}),t._v(" Last login date ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.accountInfo.lasLoginDate)+" ")])])])])])])])},Y=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v("INFORMATION DETAIL")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],W=(o("d3b7"),o("25f0"),{data:function(){return{listAccount:[],ctiteriaUserNameSearch:"",accountInfo:{accountId:"",userId:"",role:"",userName:"",passWord:"",status:"",isLogin:"",createdBy:"",createdDate:"",lasLoginDate:""},currentRole:JSON.parse(localStorage.getItem("user")).roleCode,currentAccountId:JSON.parse(localStorage.getItem("user")).accountId}},mounted:function(){this.checkLoaclStorage(),this.getListAccount()},methods:{checkLoaclStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getListAccount:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user")),o=a.accountId;l.get("/api/account/get-list-account-user/"+o).then((function(a){(a.status="200")&&(t.listAccount=a.data,b()("#loading").hide())})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})}))},searchAccountByUserName:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user")),o=a.accountId,e=this.ctiteriaUserNameSearch;""!=e?l.get("/api/account/search-account-by-username/"+o+"/"+e).then((function(a){(a.status="200")&&(t.listAccount=a.data,b()("#loading").hide())})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})})):this.callBack()},callBack:function(){this.getListAccount()},getAccountDetail:function(t){var a=this,o=JSON.parse(localStorage.getItem("user")),e=o.accountId;l.get("/api/account/get-account-by-account-id/"+t+"/"+e).then((function(t){(t.status="200")&&(a.accountInfo=t.data,b()("#loading").hide())})).catch((function(t){b()(".modal").css("display","none"),b()(".modal-backdrop").css("hide"),a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router.push({name:"NotFound"})}))},blockAccountUser:function(){var t=this;l.post("/api/account/block-an-account-user-by-account-id/"+this.accountInfo.accountId).then((function(a){"200"==a.status&&t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Block account "+t.accountInfo.accountId+" successfully !!!",icon:"success",showConfirmButton:!1,timer:2100}),b()(".modal").hide(),b()(".modal-backdrop").css("display","none"),t.callBack()})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))},unblockAccountUser:function(){var t=this;l.post("/api/account/unblock-an-account-user-by-account-id/"+this.accountInfo.accountId).then((function(a){"200"==a.status&&t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Activated account "+t.accountInfo.accountId+" successfully !!!",icon:"success",showConfirmButton:!1,timer:2100}),b()(".modal").hide(),b()(".modal-backdrop").css("display","none"),t.callBack()})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))},resetPassword:function(){var t=this,a=btoa(Math.random().toString(36));b()(".modal").hide(),b()(".modal-backdrop").css("display","none"),this.$swal({title:"CONFIRM TO RESET PASSWORD?",text:"New pass is: "+a,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, accept it!"}).then((function(o){o.isConfirmed&&l.post("/api/account/reset-password-by-account-id/"+t.accountInfo.accountId+"/"+a).then((function(a){"200"==a.status&&t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Activated account "+t.accountInfo.accountId+" successfully !!!",icon:"success",showConfirmButton:!1,timer:2100}),b()(".modal").hide(),b()(".modal-backdrop").css("display","none"),t.callBack()})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))}))}}}),z=W,H=(o("e582"),Object(u["a"])(z,G,Y,!1,null,"1ab41e37",null)),K=H.exports,Q=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("h5",[o("b-icon",{attrs:{icon:"person-fill"}}),t._v(" USER AVAILABLE ")],1)]),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"right"}},[o("b-button",{attrs:{variant:"success","data-toggle":"modal","data-target":"#addNewUserModal",title:"Add new user"},on:{click:function(a){return t.clearData()}}},[o("b-icon",{attrs:{icon:"person-plus-fill"}})],1)],1),o("div",{staticClass:"col-sm-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.criteria,expression:"criteria"}],staticClass:"form-control",attrs:{id:"input-search",type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.criteria},on:{keyup:function(a){return t.searchUser()},input:function(a){a.target.composing||(t.criteria=a.target.value)}}})]),o("div",{staticClass:"col-sm-1"},[o("b-icon",{attrs:{icon:"search"}})],1)]),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"col-md-12",staticStyle:{"text-align":"center"},attrs:{id:"divLoading"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1),o("div",{staticStyle:{height:"670px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-reponsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[t._m(0),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.listUser,(function(a){return o("tr",{key:a.userId},[o("td",{attrs:{scope:"row"}},[t._v(t._s(a.userId))]),o("td",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"person-fill",animation:"no-fade","font-scale":"1"}}),t._v(t._s(a.fullName)+" ")],1),o("td",{attrs:{scope:"row"}},[t._v(t._s(a.dateOfBirth))]),o("td",[t._v(t._s(a.idCard))]),o("td",[t._v(t._s(a.address))]),o("td",[t._v(t._s(a.phoneNumber))]),o("td",[t._v(t._s(a.email))]),o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#profileUserModal"},on:{click:function(o){return t.clickOnEditUser(a.userId)}}},[o("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"info"}})],1)]),o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{"data-toggle":"modal","data-target":"#addNewUserModal"},on:{click:function(o){return t.clickOnEditUser(a.userId)}}},[o("b-icon",{attrs:{icon:"pen-fill"}})],1)]),"ROLE_ADMINISTRATOR"===t.currentRole?[o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button"},on:{click:function(o){return t.deleteUserById(a.userId)}}},[o("b-icon",{attrs:{icon:"archive-fill",variant:"danger"}})],1)])]:t._e()],2)])])})),0)]),o("div",{staticClass:"modal fade",attrs:{id:"addNewUserModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(1),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row",staticStyle:{display:"none"},attrs:{id:"div_user_id"}},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"code"}}),t._v(" User ID ")],1),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"left"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userId,expression:"profileInfo.userId"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.profileInfo.userId},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"userId",a.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"person-square"}}),t._v(" Full name ")],1),o("div",{staticClass:"col-sm-3"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.firstName,expression:"profileInfo.firstName"}],staticClass:"form-control",attrs:{id:"input-first-name",type:"text",placeholder:"Entry frist name"},domProps:{value:t.profileInfo.firstName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"firstName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"col-sm-4"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.midleName,expression:"profileInfo.midleName"}],staticClass:"form-control",attrs:{id:"input-midle-name",type:"text",placeholder:"Entry midle name"},domProps:{value:t.profileInfo.midleName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"midleName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1),o("div",{staticClass:"col-sm-3"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.lastName,expression:"profileInfo.lastName"}],staticClass:"form-control",attrs:{id:"input-last-name",type:"text",placeholder:"Entry last name"},domProps:{value:t.profileInfo.lastName},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"lastName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-date"}}),t._v(" Date of birth ")],1),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"left"}},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.dateOfBirth,expression:"profileInfo.dateOfBirth"}],staticClass:"form-control",attrs:{id:"dpDateOfBirth",type:"date"},domProps:{value:t.profileInfo.dateOfBirth},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"dateOfBirth",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Id card ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.idCard,expression:"profileInfo.idCard"}],staticClass:"form-control",attrs:{id:"input-card-number",type:"text",maxlength:"12",placeholder:"Entry id card number"},domProps:{value:t.profileInfo.idCard},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"idCard",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"geo-fill"}}),t._v(" Address ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.address,expression:"profileInfo.address"}],staticClass:"form-control",attrs:{id:"input-address",type:"address",placeholder:"Entry address"},domProps:{value:t.profileInfo.address},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"address",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"phone-vibrate"}}),t._v(" Phone ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.phoneNumber,expression:"profileInfo.phoneNumber"}],staticClass:"form-control",attrs:{id:"input-phone-number",type:"phone",maxlength:"11",placeholder:"Entry phone number"},domProps:{value:t.profileInfo.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"phoneNumber",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{attrs:{id:"div-select-role"}},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"shield-shaded"}}),t._v(" Role ")],1),o("div",{staticClass:"col-sm-5"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.role,expression:"profileInfo.role"}],staticClass:"form-control",attrs:{id:"select-role","aria-placeholder":"Select a role"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.profileInfo,"role",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"ROLE_ADMINISTRATOR"}},[t._v(" Role Administrator ")]),o("option",{attrs:{value:"ROLE_MANAGER"}},[t._v("Role Manager")]),o("option",{attrs:{value:"ROLE_STAFF"}},[t._v("Role Staff")])]),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"mailbox2"}}),t._v(" Email ")],1),o("div",{staticClass:"col-sm-10"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.email,expression:"profileInfo.email"}],staticClass:"form-control",attrs:{id:"input-email",type:"email",placeholder:"Entry email"},domProps:{value:t.profileInfo.email},on:{input:function(a){a.target.composing||t.$set(t.profileInfo,"email",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){return t.saveNewUser()}}},[o("b-icon",{attrs:{icon:"box-arrow-in-down-right"}}),t._v("SAVE CHANGE ")],1)])])])])]),o("div",{staticClass:"modal fade",attrs:{id:"profileUserModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(2),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"code"}}),t._v(" User Id ")],1),o("div",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.profileInfo.userId)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"person-square"}}),t._v(" Full name ")],1),o("div",{staticClass:"col-sm-4"},[t._v(" "+t._s(t.profileInfo.fullName)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-date"}}),t._v(" Date of birth ")],1),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"left"}},[t._v(" "+t._s(t.profileInfo.dateOfBirth)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Id card ")],1),o("div",{staticClass:"col-sm-6"},[t._v(" "+t._s(t.profileInfo.idCard)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"map"}}),t._v(" Address ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.profileInfo.address)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"phone-vibrate"}}),t._v(" Phone ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.profileInfo.phoneNumber)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"mailbox2"}}),t._v(" Email ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.profileInfo.email)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"bezier2"}}),t._v(" Create by ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.profileInfo.createdBy)+" ")])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"calendar2-check"}}),t._v(" Create on date ")],1),o("div",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.profileInfo.createdDate)+" ")])])])])])])])},X=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("User ID")]),o("th",{attrs:{scope:"col"}},[t._v("Full name")]),o("th",{attrs:{scope:"col"}},[t._v("Birthday")]),o("th",{attrs:{scope:"col"}},[t._v("ID card")]),o("th",{attrs:{scope:"col"}},[t._v("Address")]),o("th",{attrs:{scope:"col"}},[t._v("Phone number")]),o("th",{attrs:{scope:"col"}},[t._v("Email")]),o("th",{attrs:{scope:"col"}},[t._v("Option")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v(" ADD/ UPDATE INFORMATION USER ")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v("INFORMATION DETAIL")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];o("4de4"),o("c975");Object(S["b"])("required",Object(P["a"])(Object(P["a"])({},B["a"]),{},{message:"This field is required."}));var Z={data:function(){return{currentRole:"",listUser:[],profileInfo:{userId:"",firstName:"",midleName:"",lastName:"",fullName:"",dateOfBirth:"",idCard:"",email:"",address:"",phoneNumber:"",createBy:"",createDate:"",accountId:"",userName:"",role:"",status:"",accountCreateBy:"",accountCreateDate:""},criteria:""}},mounted:function(){this.checkLoaclStorage(),this.getListUser()},computed:{computedList:function(){var t=this;return this.listUser.filter((function(a){return-1!==a.fullName.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.idCard.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.email.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.phoneNumber.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.address.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.dataOfBirth.toLowerCase().indexOf(t.query.toLowerCase())||-1!==a.accountCreateBy.toLowerCase().indexOf(t.query.toLowerCase())}))}},methods:{checkLoaclStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getListUser:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user"));this.currentRole=a.roleCode;var o=a.accountId;l.get("/user/api/get-list-user/"+o).then((function(a){(a.status="200")&&(t.listUser=a.data,b()("#loading").hide())})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})}))},callBack:function(){this.getListUser()},saveNewUser:function(){var t=this,a=JSON.parse(localStorage.getItem("user"));b()("#loading").show();var o={userId:this.profileInfo.userId,accountIdValid:a.accountId,fristName:this.profileInfo.firstName,midleName:this.profileInfo.midleName,lastName:this.profileInfo.lastName,idCard:this.profileInfo.idCard,dateOfBirth:this.profileInfo.dateOfBirth,address:this.profileInfo.address,phoneNumber:this.profileInfo.phoneNumber,email:this.profileInfo.email,role:this.profileInfo.role,createBy:a.userName};""!=o.fristName&&""!=o.midleName&&""!=o.lastName&&""!=o.idCard&&""!=o.dateOfBirth&&""!=o.address&&""!=o.phoneNumber&&""!=o.email&&""!=o.role?l.post("/user/api/create-new-user",o).then((function(a){"200"==a.status?(b()("#loading").hide(),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Save user success !!!...",icon:"success",showConfirmButton:!1,timer:2100}),t.callBack(),b()(".modal").css("display","none"),b()(".modal-backdrop").css("display","none")):(b()("#loading").hide(),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Save user is not success !!!...",icon:"error",showConfirmButton:!1,timer:2100}))})).catch((function(a){b()("#loading").hide(),b()(".modal").css("display","none"),b()(".modal-backdrop").css("display","none"),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+a,icon:"error",showConfirmButton:!1,timer:2100})})):(b()("#loading").hide(),this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to save user",icon:"error",showConfirmButton:!1,timer:2100}))},clickOnEditUser:function(t){var a=this,o=JSON.parse(localStorage.getItem("user")),e=o.accountId;b()("#div-select-role").css("display","none"),l.post("/user/api/get-user-by-id/"+t+"/"+e).then((function(t){a.profileInfo=t.data})).catch((function(t){b()("#loading").hide(),a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+t,icon:"error",showConfirmButton:!1,timer:2100}),b()("#profileUserModal").modal("hide"),a.$router.push({name:"NotFound"})}))},clearData:function(){this.profileInfo.userId="",this.profileInfo.userName="",this.profileInfo.firstName="",this.profileInfo.midleName="",this.profileInfo.lastName="",this.profileInfo.dateOfBirth="",this.profileInfo.email="",this.profileInfo.phoneNumber="",this.profileInfo.createBy="",this.profileInfo.address="",this.profileInfo.idCard="",b()("#div-select-role").css("display","block")},deleteUserById:function(t){var a=this,o=JSON.parse(localStorage.getItem("user")),e=o.accountId;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){o.isConfirmed&&l.delete("/user/api/delete-user-by-id/"+t+"/"+e).then((function(t){"200"==t.status?(a.$swal("Deleted!","Your file has been deleted.","success"),a.callBack()):a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+error,icon:"error",showConfirmButton:!1,timer:2100})})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router({name:"NotFound"})}))}))},searchUser:function(){var t=this;b()("#loading").show();var a=JSON.parse(localStorage.getItem("user")),o=a.accountId,e=this.criteria;""!=e?l.post("/user/api/search-user-by-criteria/"+e+"/"+o).then((function(a){"200"==a.status&&(t.listUser=a.data,b()("#loading").hide())})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})})):this.getListUser()}}},tt=Z,at=(o("f6b2"),Object(u["a"])(tt,Q,X,!1,null,"8df37314",null)),ot=at.exports,et=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-5"},[o("h5",[o("b-icon",{attrs:{icon:"cup"}}),t._v(" FOOD & DRINK MANAGEMENT ")],1)]),o("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"right"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],attrs:{title:"Show category",variant:"light"}},[o("b-icon",{attrs:{icon:"card-text",variant:"dark"}})],1),o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],attrs:{title:"Refresh data",variant:"light"},on:{click:function(a){return t.callBackProducts()}}},[o("b-icon",{attrs:{icon:"shuffle",variant:"dark"}})],1),"ROLE_ADMINISTRATOR"==t.currentRole?[o("b-button",{attrs:{variant:"success","data-toggle":"modal","data-target":"#addNewProducModal"},on:{click:function(a){return t.clearData()}}},[o("b-icon",{attrs:{icon:"plus-circle"}})],1)]:t._e()],2),o("div",{staticClass:"col-sm-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.criteria,expression:"criteria"}],staticClass:"form-control",attrs:{id:"input-search",type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.criteria},on:{keyup:function(a){return t.getProductsByName()},input:function(a){a.target.composing||(t.criteria=a.target.value)}}})]),o("div",{staticClass:"col-sm-1"},[o("b-icon",{attrs:{icon:"search"}})],1)]),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"col-md-12 hidden",staticStyle:{"text-align":"center"},attrs:{id:"divLoading"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1),o("div",{staticClass:"form-row"},[o("b-sidebar",{attrs:{"bg-variant":"light","text-variant":"light",shadow:"",id:"sidebar-footer","aria-label":"Sidebar with custom footer",header:""},scopedSlots:t._u([{key:"footer",fn:function(t){var a=t.hide;return[o("div",{staticClass:"d-flex bg-dark text-light align-items-center px-3 py-2"},[o("b-button",{attrs:{size:"sm"},on:{click:a}},[o("b-icon",{attrs:{icon:"chevron-double-left",variant:"light",animation:"cylon"}})],1)],1)]}}])},[o("div",{staticClass:"px-4 py-6"},[o("h5",{staticStyle:{color:"black","text-algin":"left"}},[t._v("CATEGORY AVAILABLE")]),o("hr",{staticClass:"my-4"}),t._l(t.listCategory,(function(a){return o("b-list-group",{key:a.idCategory},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-8"},[o("b-button",{attrs:{block:"",variant:"light"},on:{click:function(o){return t.getProductByCategoryId(a.idCategory)}},model:{value:t.categoryModelEdit.categoryId,callback:function(a){t.$set(t.categoryModelEdit,"categoryId",a)},expression:"categoryModelEdit.categoryId"}},[o("b-icon",{attrs:{icon:"star-fill",variant:"dark"}}),t._v(" "+t._s(a.categoryName)+" ")],1)],1),"ROLE_ADMINISTRATOR"===t.currentRole?[o("div",{staticClass:"col-sm-2"},[o("b-button",{attrs:{variant:"light",title:"Delete category"},on:{click:function(o){return t.deleteCategory(a.idCategory)}}},[o("b-icon",{attrs:{icon:"trash-fill",variant:"danger"}})],1)],1),o("div",{staticClass:"col-sm-2"},[o("b-button",{attrs:{variant:"light",title:"Edit this category","data-toggle":"modal","data-target":"#categoryDetailModal"},on:{click:function(o){return t.bindingData(a)}}},[o("b-icon",{attrs:{icon:" pen"}})],1)],1)]:t._e()],2)])})),o("hr",{staticClass:"my-4"}),"ROLE_ADMINISTRATOR"==t.currentRole?[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-8"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryModelAdd.categoryName,expression:"categoryModelAdd.categoryName"}],staticClass:"form-control",attrs:{id:"addNewCategoryInput",type:"text",placeholder:"Entry new category"},domProps:{value:t.categoryModelAdd.categoryName},on:{input:function(a){a.target.composing||t.$set(t.categoryModelAdd,"categoryName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}],null,!1,1295662094)})],1),o("div",{staticClass:"col-sm-2"},[o("b-button",{attrs:{pill:"",variant:"success",title:"Add new category"},on:{click:function(a){return t.saveCategory()}}},[o("b-icon",{attrs:{icon:"plus-circle-fill"}})],1)],1)])]:t._e()],2)])],1),o("div",{staticStyle:{height:"670px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Product ID")]),o("th",{attrs:{scope:"col"}},[t._v("Category name")]),o("th",{attrs:{scope:"col"}},[t._v("Product name")]),o("th",{attrs:{scope:"col"}},[t._v("Price")]),o("th",{attrs:{scope:"col"}},[t._v("Create by")]),o("th",{attrs:{scope:"col"}},[t._v("Create date")]),"ROLE_ADMINISTRATOR"===t.currentRole?[o("th",{attrs:{scope:"col"}},[t._v("Option")])]:t._e()],2)]),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.listProduct,(function(a){return o("tr",{key:a.productId},[o("th",{attrs:{scope:"row"}},[o("b-icon",{attrs:{icon:"box",animation:"no-fade","font-scale":"1"}}),t._v(" "+t._s(a.productId)+" ")],1),o("td",[t._v(t._s(a.categoryId))]),o("td",[t._v(t._s(a.productName))]),o("td",[t._v("đ"+t._s(a.priceFormatString))]),o("td",[t._v(t._s(a.createBy))]),o("td",[t._v(t._s(a.createDate))]),"ROLE_ADMINISTRATOR"===t.currentRole?[o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{"data-toggle":"modal","data-target":"#addNewProducModal"},on:{click:function(o){return t.bindingDataProduct(a.productId)}}},[o("b-icon",{attrs:{icon:"pen-fill"}})],1)]),"ROLE_ADMINISTRATOR"===t.currentRole?[o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button"},on:{click:function(o){return t.deleteProduct(a.productId)}}},[o("b-icon",{attrs:{icon:"archive-fill",variant:"danger"}})],1)])]:t._e()],2)])]:t._e()],2)})),0)])]),o("div",{staticClass:"modal fade",attrs:{id:"categoryDetailModal",tabindex:"-1","aria-labelledby":"categoryDetailModal","aria-hidden":"true","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[t._m(0),o("div",{staticClass:"modal-body"},[o("form",[o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryModelEdit.categoryId,expression:"categoryModelEdit.categoryId"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.categoryModelEdit.categoryId},on:{input:function(a){a.target.composing||t.$set(t.categoryModelEdit,"categoryId",a.target.value)}}}),o("hr",{staticClass:"my-4"}),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryModelEdit.categoryName,expression:"categoryModelEdit.categoryName"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.categoryModelEdit.categoryName},on:{input:function(a){a.target.composing||t.$set(t.categoryModelEdit,"categoryName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),o("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){return t.editCategory()}}},[o("b-icon",{attrs:{icon:"box-arrow-in-down-right"}}),t._v("SAVE CHANGE ")],1)])])])]),o("div",{staticClass:"modal fade",attrs:{id:"addNewProducModal",tabindex:"-1",role:"dialog","aria-labelledby":"addNewProducModal","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(1),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row",staticStyle:{display:"none"}},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"code"}}),t._v(" Product Id ")],1),o("div",{staticClass:"col-sm-8"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.product.productId,expression:"product.productId"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.product.productId},on:{input:function(a){a.target.composing||t.$set(t.product,"productId",a.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" Category ")],1),o("div",{staticClass:"col-sm-8"},[o("div",[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.product.categoryId,expression:"product.categoryId"}],staticClass:"form-control",attrs:{id:"selectCategory"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"categoryId",a.target.multiple?o:o[0])}}},t._l(t.listCategory,(function(t){return o("option",{key:t.idCategory,attrs:{selected:"ctg.categoryId",label:t.categoryName},domProps:{value:t.idCategory}})})),0),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"box"}}),t._v(" Product name ")],1),o("div",{staticClass:"col-sm-8",staticStyle:{"text-align":"left"}},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.product.productName,expression:"product.productName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Entry name of product"},domProps:{value:t.product.productName},on:{input:function(a){a.target.composing||t.$set(t.product,"productName",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Price ")],1),o("div",{staticClass:"col-sm-8"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("input",{directives:[{name:"currency",rawName:"v-currency",value:t.options,expression:"options"},{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],ref:"input",staticClass:"form-control",domProps:{value:t.product.price},on:{input:function(a){a.target.composing||t.$set(t.product,"price",a.target.value)}}}),o("p",[t._v(t._s(e[0]))])])}}])})],1)])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){return t.saveProduct()}}},[o("b-icon",{attrs:{icon:"box-arrow-in-down-right"}}),t._v("SAVE CHANGE ")],1)])])])])])},st=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"categoryDetailModalLabel"}},[t._v(" CATEGORY DETAIL ")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v("ADD NEW/ UPDATE PRODUCT")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],rt=o("d413");Object(S["b"])("required",Object(P["a"])(Object(P["a"])({},B["a"]),{},{message:"This field is required."}));var it={data:function(){return{criteria:"",currentRole:JSON.parse(localStorage.getItem("user")).roleCode,accountCurrent:JSON.parse(localStorage.getItem("user")).accountId,userCurrent:JSON.parse(localStorage.getItem("user")).userName,listCategory:[],listProduct:[],categoryModelEdit:{categoryId:"",categoryName:""},categoryModelAdd:{categoryId:"",categoryName:""},product:{productId:"",categoryId:"",productName:"",price:""}}},mounted:function(){$("#loading").hide(),this.checkLocalStorage(),this.getAllCategories(),this.getProducts()},computed:{options:function(){return{distractionFree:!1,currency:"VND",valueAsInteger:!0,autoDecimalMode:!0}},convertValueToInt:function(){return Object(rt["b"])(this.product.price,this.options)}},methods:{checkLocalStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getAllCategories:function(){var t=this;$("#loading").show(),l.get("/category/api/get-categories").then((function(a){"200"==a.status?(t.listCategory=a.data,$("#loading").hide()):"401"==a.status?t.$router.push({name:"Login"}):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"}))})).catch((function(a){t.$router.push({name:"Login"}),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))},getProducts:function(){var t=this;$("#loading").show(),l.get("/product/api/get-all-products/"+this.accountCurrent).then((function(a){"200"==a.status?(t.listProduct=a.data,$("#loading").hide()):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"}))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})}))},callBackCategories:function(){this.getAllCategories()},callBackProducts:function(){this.getProducts()},saveCategory:function(){var t=this,a={categoryId:"",categoryName:this.categoryModelAdd.categoryName};""!=a.categoryName?l.post("/category/api/save-category/"+this.accountCurrent,a).then((function(o){"200"==o.status&&(t.listCategory.push(a),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Successfully. !!!",icon:"success",showConfirmButton:!1,timer:2100}),t.categoryModelAdd.categoryName="")})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to save category",icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none"))},bindingData:function(t){this.categoryModelEdit.categoryId=t.idCategory,this.categoryModelEdit.categoryName=t.categoryName},clearData:function(){$("#selectCategory").css("display","block"),$("#inputCategory").css("display","none"),this.product.productId="",this.product.productName="",this.product.categoryId="",this.product.price=""},editCategory:function(){var t=this,a={categoryId:this.categoryModelEdit.categoryId,categoryName:this.categoryModelEdit.categoryName};""!=a.categoryName?l.post("/category/api/save-category/"+this.accountCurrent,a).then((function(a){"200"==a.status&&(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Change "+t.categoryModelEdit.categoryName+" successfully. !!!",icon:"success",showConfirmButton:!1,timer:2100}),t.callBackCategories(),t.callBackProducts(),$(".modal").hide(),$(".modal-backdrop").css("display","none"))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none")})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to save category",icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none"))},deleteCategory:function(t){var a=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){o.isConfirmed&&l.delete("/category/api/delete-category/"+t+"/"+a.accountCurrent).then((function(t){"200"==t.status?(a.$swal("Deleted!","Your category has been deleted.","success"),a.callBackCategories(),a.callBackProducts()):a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+error,icon:"error",showConfirmButton:!1,timer:2100})})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router({name:"NotFound"}),$(".modal").hide(),$(".modal-backdrop").css("display","none")}))}))},saveProduct:function(){var t=this,a={productId:this.product.productId,categoryId:this.product.categoryId,productName:this.product.productName,price:this.convertValueToInt,createBy:this.userCurrent,createDate:""};""!=a.categoryId&&""!=a.productName&&""!=a.price?l.post("/product/api/save-product/"+this.accountCurrent,a).then((function(a){"200"==a.status?(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Successfully ...!!!",icon:"success",showConfirmButton:!1,timer:2100}),t.callBackProducts(),$(".modal").hide(),$(".modal-backdrop").css("display","none")):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Failed ...!!!",icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none"))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+a,icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none")})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info to save product",icon:"error",showConfirmButton:!1,timer:2100}),$(".modal").hide(),$(".modal-backdrop").css("display","none"))},bindingDataProduct:function(t){var a=this;$("#addNewProductModal").css("display","block"),l.get("/product/api/get-product-by-id/"+t+"/"+this.accountCurrent).then((function(t){"200"==t.status&&(a.product=t.data)})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+t,icon:"error",showConfirmButton:!1,timer:2100})}))},deleteProduct:function(t){var a=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){o.isConfirmed&&l.delete("/product/api/delete-product/"+t+"/"+a.accountCurrent).then((function(t){"200"==t.status?(a.$swal("Deleted!","Your category has been deleted.","success"),a.callBackCategories(),a.callBackProducts()):a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+error,icon:"error",showConfirmButton:!1,timer:2100})})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"An error occured: "+t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router({name:"NotFound"})}))}))},getProductByCategoryId:function(t){var a=this;$("#loading").show(),l.get("/product/api/get-products-by-category/"+this.accountCurrent+"/"+t).then((function(t){"200"==t.status?(a.listProduct=t.data,$("#loading").hide()):(a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),a.$router.push({name:"NotFound"}))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router.push({name:"NotFound"})}))},getProductsByName:function(){var t=this,a=this.criteria;$("#loading").show(),""!=a?l.get("/product/api/get-products-by-name/"+this.accountCurrent+"/"+a).then((function(a){"200"==a.status?(t.listProduct=a.data,$("#loading").hide()):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"}))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})})):this.callBackProducts()}}},nt=it,lt=(o("0d74"),Object(u["a"])(nt,et,st,!1,null,"128e9dae",null)),ct=lt.exports,dt=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("h5",[o("b-icon",{attrs:{icon:"box-seam"}}),t._v(" SALE MANAGEMENT ")],1)]),o("div",{staticClass:"col-sm-2"},[o("b-icon",{attrs:{icon:"circle-fill",animation:"throb","font-scale":"1",variant:"success"}}),t._v(" OPENING : "+t._s(t.isOpening)+" ")],1),o("div",{staticClass:"col-sm-2"},[o("b-icon",{attrs:{icon:"x-circle-fill","font-scale":"1",variant:"danger"}}),t._v(" CLOSED : "+t._s(t.isClosed)+" ")],1),o("div",{staticClass:"col-md-5",staticStyle:{"text-align":"right"}},[o("b-button-group",[o("button",{staticClass:"btn btn-light",attrs:{type:"button","data-toggle":"modal","data-target":"#listOrderPendingModal"},on:{click:function(a){return t.getListOrderPending()}}},[o("b-icon",{attrs:{icon:"diagram3-fill","font-scale":"1",variant:"dark"}}),t._v(" ORDERED QUEUE ")],1)])],1)]),o("hr",{staticClass:"my-2"}),o("div",{staticClass:"col-md-12 hidden",staticStyle:{"text-align":"center"},attrs:{id:"divLoading"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1),o("div",{staticClass:"row",staticStyle:{height:"670px","min-height":"10px","overflow-y":"scroll"}},[t._l(t.positions,(function(a){return[o("div",{key:a.positionId,staticClass:"col-md-3",staticStyle:{"margin-top":"25px"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[t._v(" "+t._s(a.positionId)+"-"+t._s(a.positionName)+" ")]),o("div",{staticClass:"card-body",staticStyle:{"text-align":"center"}},[o("div",{staticClass:"row",staticStyle:{"text-align":"left"}},[o("div",{staticClass:"col-md-12"},[o("i",[t._v("Last update by: "+t._s(a.lastUpdateBy))])])]),o("div",{staticClass:"row",staticStyle:{"text-align":"left"}},[o("div",{staticClass:"col-md-10"},[o("i",[t._v("Last update on: "+t._s(a.lastUpdateTime))])])]),o("b-icon",{attrs:{icon:"cup-straw",variant:"dark","font-scale":"4"}})],1)]),o("div",{staticClass:"card-footer"},[o("div",{staticClass:"row"},["OPENING"===a.positionStatus?[o("div",{staticClass:"col-sm-8"},[o("strong",[t._v(t._s(a.positionStatus))]),o("b-icon",{attrs:{icon:"circle-fill",animation:"throb","font-scale":"1",variant:"success"}})],1),o("div",{staticClass:"col-sm-2"},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],attrs:{variant:"light",title:"Detail ordered"},on:{click:function(o){return t.getListOrderByTable(a.positionId)}}},[o("b-icon",{attrs:{icon:" layout-text-window",variant:"dark"}})],1)],1),o("div",{staticClass:"col-sm-2"},[o("button",{staticClass:"btn btn-light btn-sm",attrs:{"data-toggle":"modal","data-target":"#orderProductModal",title:"Order more"},on:{click:function(o){return t.getProducts(a.positionId)}}},[o("b-icon",{attrs:{icon:"cart-plus-fill",variant:"primary"}})],1)])]:[o("div",{staticClass:"col-sm-8"},[o("strong",[t._v(t._s(a.positionStatus))]),o("b-icon",{attrs:{icon:"x-circle-fill","font-scale":"1",variant:"danger"}})],1),o("div",{staticClass:"col-sm-4"},[o("button",{staticClass:"btn btn-light btn-sm",attrs:{"data-toggle":"modal","data-target":"#orderProductModal",title:"Order"},on:{click:function(o){return t.getProducts(a.positionId)}}},[o("b-icon",{attrs:{icon:"cart-plus-fill",variant:"primary"}})],1)])]],2)])])]}))],2),o("div",{staticClass:"form-row"},[o("b-sidebar",{attrs:{"bg-variant":"light","text-variant":"light",shadow:"",id:"sidebar-footer","aria-label":"Sidebar with custom footer",header:""},scopedSlots:t._u([{key:"footer",fn:function(t){var a=t.hide;return[o("div",{staticClass:"d-flex bg-dark text-light align-items-center px-3 py-2"},[o("b-button",{attrs:{size:"sm"},on:{click:a}},[o("b-icon",{attrs:{icon:"chevron-double-left",variant:"light",animation:"cylon"}})],1)],1)]}}])},[o("div",{staticClass:"px-4 py-6"},[o("h6",{staticStyle:{color:"black","text-algin":"left"}},[t._v(" ORDER INFO DETAIL "+t._s(t.orderInfo.tableName)+" "),o("b-icon",{attrs:{icon:"geo-alt-fill",variant:"danger","font-scale":"2",animation:"cylon-vertical"}})],1),o("hr",{staticClass:"my-4"}),t._l(t.orderInfo.listOrder,(function(a){return o("ul",{key:a.productName,staticClass:"list-group",staticStyle:{"margin-top":"10px"}},["PENDING"==a.statusProdct?[o("li",{staticClass:"list-group-item"},[t._v(" "+t._s(a.productName)+" "),o("strong",[t._v("x"+t._s(a.quantity))]),t._v(" - đ"+t._s(a.priceConvert)+" "),o("b-icon",{attrs:{icon:"exclamation-triangle-fill",scale:"1",variant:"warning",title:"Pending"}})],1)]:[o("li",{staticClass:"list-group-item"},[t._v(" "+t._s(a.productName)+" "),o("strong",[t._v("x"+t._s(a.quantity))]),t._v(" - đ"+t._s(a.priceConvert)+" "),o("b-icon",{attrs:{icon:"check2-circle",scale:"1",variant:"success",title:"Done"}})],1)]],2)})),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"row"},[o("button",{staticClass:"btn btn-primary btn-lg btn-block",staticStyle:{"font-size":"16px"},attrs:{"data-toggle":"modal","data-target":"#paymentModal"},on:{click:function(a){return t.setPaymentInfo(t.orderInfo.tableName,t.orderInfo.totalPrice)}}},[t._v(" Pay now "),o("b-icon",{attrs:{icon:"credit-card","aria-hidden":"true"}}),t._v(" ... Total Price: "+t._s(t.orderInfo.totalPrice)+"đ ")],1)])],2)])],1),o("div",{staticClass:"modal fade",attrs:{id:"orderProductModal",tabindex:"-1","aria-labelledby":"orderProductModal","aria-hidden":"true","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-xl modal-dialog-scrollable"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"orderProductModal"}},[t._v(" TAKE ORDER FOR TABLE "+t._s(t.tableId)+" ")]),t._m(0)]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row",staticStyle:{"text-align":"right"}},[o("div",{staticClass:"col-sm-1"},[o("h6",{staticStyle:{"text-align":"left"}},[o("b-icon",{attrs:{icon:"filter",variant:"dark","font-scale":"2"}}),t._v(" Filter ")],1)]),o("div",{staticClass:"col-sm-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchProductCriteria,expression:"searchProductCriteria"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Search by product name"},domProps:{value:t.searchProductCriteria},on:{keyup:function(a){return t.getProductsByName()},input:function(a){a.target.composing||(t.searchProductCriteria=a.target.value)}}})])]),o("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[o("div",{staticClass:"col-md-7",staticStyle:{overflow:"scroll",height:"650px"}},[o("div",{staticClass:"row"},[t._l(t.listProductAvailable,(function(a){return[o("div",{key:a.productId,staticClass:"column",staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"card-order"},[o("div",{staticClass:"card-body",staticStyle:{"max-width":"300px"}},[o("b-icon",{attrs:{icon:"tag-fill",variant:"secondary","font-scale":"1"}}),t._v(" "+t._s(a.productName)+" ")],1),o("div",{staticClass:"card-footer"},[o("div",{staticClass:"row"},[o("b-button",{staticStyle:{"text-align":"center"},attrs:{block:"",variant:"info",title:"Take this"},on:{click:function(o){return t.addProductToListOrder(a)}}},[o("b-icon",{attrs:{icon:"cart-plus-fill",variant:"light"}}),t._v(" "+t._s(a.priceFormatString)+" ")],1)],1)])])])]}))],2)]),o("div",{staticClass:"col-md-5"},[o("h5",[t._v("PRODUCT CHOOSED")]),o("div",{staticStyle:{height:"500px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"3"}},[t._m(1),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.listOrderChoose,(function(a){return o("tr",{key:a.productId},[o("td",[t._v(t._s(a.productName))]),o("td",[t._v(t._s(a.quantity))]),o("td",[t._v(t._s(a.priceConvert))]),o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-3"},[o("b-button",{attrs:{pill:"",variant:"light"},on:{click:function(o){return t.decreaseOrderProduct(a.productId)}}},[o("b-icon",{attrs:{icon:"dash-circle-fill",variant:"secondary"}})],1)],1),"ROLE_MANAGER"==t.currentRole||"ROLE_ADMINISTRATOR"==t.currentRole?[o("div",{staticClass:"col-sm-3"},[o("b-button",{attrs:{pill:"",variant:"light"},on:{click:function(o){return t.deletOrderProdct(a.productId)}}},[o("b-icon",{attrs:{icon:"trash-fill",variant:"danger","font-scale":"1"}})],1)],1)]:t._e()],2)])])})),0)])]),o("div",{staticClass:"card-footer"},[o("b-button",{staticStyle:{"text-align":"center"},attrs:{size:"lg",block:"",variant:"success"},on:{click:function(a){return t.acceptOrder()}}},[o("b-icon",{attrs:{icon:"cart-check-fill"}}),t._v(" ACCPET ORDER ")],1)],1)])])])])])]),o("div",{staticClass:"modal fade",attrs:{id:"paymentModal",tabindex:"-1",role:"dialog","aria-labelledby":"paymentModal","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(2),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"code"}}),t._v(" Table ID: ")],1),o("div",{staticClass:"col-sm-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.tableId,expression:"paymentInfo.tableId"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.paymentInfo.tableId},on:{input:function(a){a.target.composing||t.$set(t.paymentInfo,"tableId",a.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"server"}}),t._v(" Payment type: ")],1),o("div",{staticClass:"col-sm-6",attrs:{requried:""}},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return o("div",{},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.paymentType,expression:"paymentInfo.paymentType"}],staticClass:"form-control",attrs:{id:"inputGroupSelect01"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.paymentInfo,"paymentType",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:""}},[t._v("Select one")]),o("option",{attrs:{value:"Cash option"}},[t._v("Cash option")]),o("option",{attrs:{value:"Card option"}},[t._v("Card option")])]),o("p",[t._v(t._s(e[0]))])])}}])})],1)]),o("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"light"}},[o("b-icon",{attrs:{icon:"caret-down-fill"}}),t._v(" Info card payment (if have) ")],1),o("b-collapse",{attrs:{id:"accordion-1",visible:!1,accordion:"my-accordion",role:"tabpanel"}},[o("b-card-body",[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"credit-card"}}),t._v(" Card type: ")],1),o("div",{staticClass:"col-sm-6",staticStyle:{"text-align":"left"}},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.cardType,expression:"paymentInfo.cardType"}],staticClass:"form-control",attrs:{id:"inputGroupSelect01"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.paymentInfo,"cardType",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:""}},[t._v("Select one")]),o("option",{attrs:{value:"VISA"}},[t._v("Visa")]),o("option",{attrs:{value:"MASTER CARD"}},[t._v("Master card")]),o("option",{attrs:{value:"NAPAS"}},[t._v("Napas")]),o("option",{attrs:{value:"CREDIT CARD"}},[t._v("Credit card")]),o("option",{attrs:{value:"DEBIT CARD"}},[t._v("Debit card")])])])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"card-heading"}}),t._v(" Card number: ")],1),o("div",{staticClass:"col-sm-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.cardNumber,expression:"paymentInfo.cardNumber"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Entry card number (if have)",maxlength:"16"},domProps:{value:t.paymentInfo.cardNumber},on:{input:function(a){a.target.composing||t.$set(t.paymentInfo,"cardNumber",a.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"building"}}),t._v(" Bank name: ")],1),o("div",{staticClass:"col-sm-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.bankName,expression:"paymentInfo.bankName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Entry bank name (if have)"},domProps:{value:t.paymentInfo.bankName},on:{input:function(a){a.target.composing||t.$set(t.paymentInfo,"bankName",a.target.value)}}})])])])],1)],1),o("hr",{staticClass:"my-3"}),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword"}},[o("b-icon",{attrs:{icon:"cash"}}),t._v(" Total price: ")],1),o("div",{staticClass:"col-sm-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInfo.totalPrice,expression:"paymentInfo.totalPrice"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.paymentInfo.totalPrice},on:{input:function(a){a.target.composing||t.$set(t.paymentInfo,"totalPrice",a.target.value)}}})]),o("div",{staticClass:"col-sm-1",staticStyle:{display:"none"},attrs:{id:"div-loading-payment"}},[o("b-spinner",{attrs:{label:"Loading..."}})],1)])],1),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-success btn-lg btn-block",staticStyle:{"text-align":"center"},on:{click:function(a){return t.acceptPayment()}}},[o("b-icon",{attrs:{icon:"check","font-scale":"2",variant:"light"}}),t._v(" ACCEPT PAYMENT ")],1)])])])]),o("div",{staticClass:"modal fade",attrs:{id:"listOrderPendingModal",tabindex:"-1",role:"dialog","aria-labelledby":"listOrderPendingModal","aria-hidden":"false","data-backdrop":"static"}},[o("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"row"},[t._m(3),o("div",{staticClass:"col-sm-1",staticStyle:{display:"none"},attrs:{id:"div-spinner-check-done"}},[o("b-spinner",{staticClass:"m-3",attrs:{label:"Busy"}})],1)]),t._m(4)]),o("div",{staticClass:"modal-body"},[o("div",{staticStyle:{height:"700px","min-height":"10px","overflow-y":"scroll"}},[o("table",{staticClass:"table table-striped table-responsive-sm",staticStyle:{"max-heigh":"100px"},attrs:{id:"table-log-detail",cellspacing:"0"}},[t._m(5),o("tbody",{attrs:{sytle:"min-height:10px; overflow-y:scroll"}},t._l(t.listOrderPending,(function(a){return o("tr",{key:a.productId},[o("td",[t._v(t._s(a.tableId))]),o("td",[t._v(t._s(a.productName))]),o("td",[t._v(" "+t._s(a.quantity)+" "),a.quantity>=4?[o("b-icon",{attrs:{icon:"chevron-double-up",variant:"danger"}})]:a.quantity<=3&&a.quantity>1?[o("b-icon",{attrs:{icon:"chevron-up",variant:"success"}})]:t._e()],2),o("td",[t._v(" "+t._s(a.status)+" "),o("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"2",variant:"info"}})],1),o("td",[t._v(t._s(a.createBy))]),o("td",[t._v(t._s(a.createDate))]),o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("button",{staticClass:"btn btn-success btn-sm",attrs:{"data-toggle":"modal","data-target":"#addNewProducModal"},on:{click:function(o){return t.checkDone(a)}}},[o("b-icon",{attrs:{icon:"check-circle"}})],1)])])])])})),0)])])])])])])])},ut=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Product name")]),o("th",{attrs:{scope:"col"}},[t._v("Price")]),o("th",{attrs:{scope:"col"}},[t._v("Quantity")]),o("th",{attrs:{scope:"col"}},[t._v("Option")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v(" FORM PAYMENT TRANSACTION ")]),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"col-md-12"},[o("h5",{staticClass:"modal-title",attrs:{id:"title-form"}},[t._v(" LIST ORDER PRODUCT PENDING ")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",{staticClass:"thead-dark"},[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Table ID")]),o("th",{attrs:{scope:"col"}},[t._v("Product name")]),o("th",{attrs:{scope:"col"}},[t._v("Quantity")]),o("th",{attrs:{scope:"col"}},[t._v("Status")]),o("th",{attrs:{scope:"col"}},[t._v("Create by")]),o("th",{attrs:{scope:"col"}},[t._v("Create date")]),o("th",{attrs:{scope:"col"}},[t._v("Option")])])])}];o("a434");Object(S["b"])("required",Object(P["a"])(Object(P["a"])({},B["a"]),{},{message:"This field is required."}));var mt={data:function(){return{tableId:this.$store.getters.getTableId,accountUserValid:JSON.parse(localStorage.getItem("user")).accountId,currentUser:JSON.parse(localStorage.getItem("user")).userName,currentRole:JSON.parse(localStorage.getItem("user")).roleCode,positions:[],isOpening:"",isClosed:"",position:{positionId:"",name:""},orderInfo:{tableName:"",listOrder:[],totalPrice:""},paymentInfo:{tableId:"",totalPrice:"",paymentType:"",cardType:"",cardNumber:"",bankName:""},listProductAvailable:[],listCategory:[],listOrderChoose:[],listOrderPending:[],searchProductCriteria:""}},mounted:function(){$("#loading").hide(),this.checkLocalStorage(),this.getPosition(),this.getAllCategories()},computed:{},methods:{checkLocalStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getPosition:function(){var t=this;$("#loading").show(),l.get("/position/api/get-positions/"+this.accountUserValid).then((function(a){"200"==a.status&&(t.positions=a.data.positions,t.isOpening=a.data.isOpening,t.isClosed=a.data.isClosed),$("#loading").hide()})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),$("#loading").hide()}))},getListOrderByTable:function(t){var a=this;$("#loading").show(),l.get("/order-product/api/get-order-product-by-table-id/"+t+"/"+this.accountUserValid).then((function(t){"200"==t.status&&($("#loading").hide(),a.orderInfo.listOrder=t.data.listOrder,a.orderInfo.tableName=t.data.tableName,a.orderInfo.totalPrice=t.data.totalPrice,localStorage.setItem("orderInfo",JSON.stringify(t.data)))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100}),$("#loading").hide()}))},getProducts:function(t){var a=this;this.listOrderChoose=[],l.get("/product/api/get-all-products/"+this.accountUserValid).then((function(o){"200"==o.status?(a.listProductAvailable=o.data,l.get("/order-product/api/get-order-product-by-table-id/"+t+"/"+a.accountUserValid).then((function(o){"200"==o.status&&($("#loading").hide(),a.listOrderChoose=o.data.listOrder,localStorage.setItem("tableId",t),a.$store.commit("setTableId",o.data.tableId))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"List order is being empty, plase add more",icon:"info",showConfirmButton:!1,timer:2100}),$("#loading").hide()}))):(a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),a.$router.push({name:"NotFound"}))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100}),a.$router.push({name:"NotFound"})}))},getAllCategories:function(){var t=this;$("#loading").show(),l.get("/category/api/get-categories").then((function(a){"200"==a.status?(t.listCategory=a.data,$("#loading").hide()):"401"==a.status?t.$router.push({name:"Login"}):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"}))})).catch((function(a){t.$router.push({name:"Login"}),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100})}))},getProductsByName:function(){var t=this,a=this.searchProductCriteria;$("#loading").show(),""!=a?l.get("/product/api/get-products-by-name/"+this.accountUserValid+"/"+a).then((function(a){"200"==a.status?(t.listProductAvailable=a.data,$("#loading").hide()):(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Something went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"}))})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),t.$router.push({name:"NotFound"})})):this.getProducts()},addProductToListOrder:function(t){var a=this,o={tableId:localStorage.getItem("tableId"),productId:t.productId,price:t.price,quantity:1,createBy:this.currentUser};l.post("/order-product/api/save-order/"+this.accountUserValid,o).then((function(t){"200"==t.status&&l.get("/order-product/api/get-order-product-by-table-id/"+o.tableId+"/"+a.accountUserValid).then((function(t){"200"==t.status&&(a.listOrderChoose=t.data.listOrder)})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))},decreaseOrderProduct:function(t){var a=this,o=localStorage.getItem("tableId");l.post("/order-product/api/decrease-order/"+this.accountUserValid+"/"+o+"/"+t).then((function(t){"200"==t.status&&l.get("/order-product/api/get-order-product-by-table-id/"+o+"/"+a.accountUserValid).then((function(t){"200"==t.status&&(a.listOrderChoose=t.data.listOrder)})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))},acceptOrder:function(){$("#orderProductModal").hide("slow"),$(".modal-fade").css("display","none"),$(".modal-backdrop").css("display","none"),this.getPosition()},deletOrderProdct:function(t){var a=this,o=localStorage.getItem("tableId");this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&l.delete("/order-product/api/delete-order/"+a.accountUserValid+"/"+o+"/"+t).then((function(t){"200"==t.status&&l.get("/order-product/api/get-order-product-by-table-id/"+o+"/"+a.accountUserValid).then((function(t){"200"==t.status&&(a.listOrderChoose=t.data.listOrder)})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100})}))}))},setPaymentInfo:function(t,a){this.paymentInfo.tableId=t,this.paymentInfo.totalPrice=a},acceptPayment:function(){var t=this,a={tableId:this.paymentInfo.tableId,totalPrice:this.paymentInfo.totalPrice,paymentType:this.paymentInfo.paymentType,cardType:this.paymentInfo.cardType,cardNumber:this.paymentInfo.cardNumber,bankName:this.paymentInfo.bankName,createBy:JSON.parse(localStorage.getItem("user")).userName};$("#div-loading-payment").css("display","block"),""!=a.paymentType?l.post("/transaction/api/save-transaction/"+this.accountUserValid,a).then((function(a){"200"==a.status&&($("#div-loading-payment").css("display","none"),$("#paymentModal").css("display","none"),$(".modal-backdrop").css("display","none"),t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Transaction success !!!",icon:"success",showConfirmButton:!1,timer:2100}),t.getPosition())})):(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Missing info payment",icon:"error",showConfirmButton:!1,timer:2100}),$("#div-loading-payment").css("display","none"))},getListOrderPending:function(){var t=this;$("#loading").css("display","block"),l.get("/order-product/api/get-order-product-pending/"+this.accountUserValid).then((function(a){"200"==a.status&&($("#loading").css("display","none"),t.listOrderPending=a.data)})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),$("#loading").css("display","none")}))},checkDone:function(t){var a=this,o=this.listOrderPending,e=this.accountUserValid;$("#div-spinner-check-done").css("display","block"),l.post("/order-product/api/update-order-product-pending/"+e+"/"+t.tableId+"/"+t.productId).then((function(t){"200"==t.status&&$("#div-spinner-check-done").css("display","none")})).catch((function(t){a.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:t,icon:"error",showConfirmButton:!1,timer:2100}),$("#div-spinner-check-done").css("display","none")})),$.each(o,(function(a,e){e.productId==t.productId&&o.splice(a,1)}))}}},pt=mt,ft=(o("89de"),Object(u["a"])(pt,dt,ut,!1,null,"1044734b",null)),vt=ft.exports,ht=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},gt=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"page-wrap d-flex flex-row align-items-center"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-12 text-center"},[o("span",{staticClass:"display-1 d-block"},[t._v("401")]),o("div",{staticClass:"mb-4 lead"},[t._v(" Unauthorize !!!... We coundn't indentify your account ")])])])])])}],bt={},Ct=bt,yt=(o("f15b"),Object(u["a"])(Ct,ht,gt,!1,null,"ffa50ba0",null)),wt=yt.exports,_t=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"jumbotron"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-3"},[o("h5",[o("b-icon",{attrs:{icon:"reception4"}}),t._v(" TRANSACTION LIST ")],1)]),o("div",{staticClass:"col-sm-2"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.criteria,expression:"criteria"}],staticClass:"form-control",attrs:{id:"select-filter"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.criteria=a.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"All"}},[t._v("All")]),o("option",{attrs:{value:"TODAY"}},[t._v("Today")]),o("option",{attrs:{value:"YESTERDAY"}},[t._v("Yesterday")])])]),o("div",{staticClass:"col-sm-2"},[o("button",{staticClass:"btn btn-dark",attrs:{id:"button-search"},on:{click:function(a){return t.searchTransactionByTime()}}},[o("b-icon",{attrs:{icon:"filter"}}),t._v(" Filter ")],1)]),o("div",{staticClass:"col-md-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.criteriaSearchDate,expression:"criteriaSearchDate"}],staticClass:"form-control",attrs:{id:"input-filter",type:"date",placeholder:"Search by card number/ create by","aria-label":"Search"},domProps:{value:t.criteriaSearchDate},on:{input:function(a){a.target.composing||(t.criteriaSearchDate=a.target.value)}}})]),o("div",{staticClass:"col-md-1"},[o("button",{staticClass:"btn btn-primary",attrs:{id:"button-search"},on:{click:function(a){return t.searchTransactionByDate()}}},[o("b-icon",{attrs:{icon:"search"}}),t._v(" Find ")],1)])]),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"col-md-14",staticStyle:{"text-align":"center",display:"none"},attrs:{id:"divLoading"}},[o("b-spinner",{attrs:{id:"loading",label:"Loading..."}})],1),o("div",{staticClass:"overflow-auto"},[o("b-table",{attrs:{"head-variant":"dark",id:"my-table","caption-top":"",responsive:"sm",striped:"",hover:"",small:"",items:t.transactionInfo.listTransaction,"per-page":t.perPage,"current-page":t.currentPage}}),o("hr",{staticClass:"my-4"}),o("div",{staticClass:"row",staticStyle:{"margin-left":"10px"}},[o("div",{staticClass:"column"},[o("b-pagination",{attrs:{size:"md",pills:"","total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)]),o("div",{staticClass:"col-sm-3"},[o("strong",[t._v("Total transactions: ")]),o("b-icon",{attrs:{icon:"bullseye",variant:"danger"}}),t._v(" "+t._s(t.transactionInfo.totalTransaction)+" ")],1),o("div",{staticClass:"col-sm-3"},[o("strong",[t._v("Total cash options: ")]),o("b-icon",{attrs:{icon:"wallet-fill",variant:"success"}}),t._v(" "+t._s(t.transactionInfo.totalCashOption)+" ")],1),o("div",{staticClass:"col-sm-3"},[o("strong",[t._v("Total card options: ")]),o("b-icon",{attrs:{icon:"credit-card2-front-fill"}}),t._v(" "+t._s(t.transactionInfo.totalCardOption)+" ")],1),o("div",{staticClass:"col-sm-12",staticStyle:{"text-align":"right"}},[o("h2",[o("b-icon",{attrs:{icon:"server",animation:"cylon-vertical",variant:"secondary"}}),t._v(" Total sale: "+t._s(t.transactionInfo.totalSale)+"đ ")],1)])],1)])},It=[],Nt={data:function(){return{accountUserValid:JSON.parse(localStorage.getItem("user")).accountId,criteria:"",criteriaSearchDate:"",perPage:15,currentPage:1,transactionInfo:{listTransaction:[],totalSale:"",totalTransaction:"",totalCashOption:"",totalCardOption:""}}},mounted:function(){this.checkLocalStorage(),this.getTransactions()},computed:{rows:function(){return this.transactionInfo.listTransaction.length}},methods:{checkLocalStorage:function(){var t=JSON.parse(localStorage.getItem("user"));null==t&&(this.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Please log in frist",icon:"error",showConfirmButton:!1,timer:2100}),this.$router.push({name:"Login"}))},getTransactions:function(){var t=this;$("#divLoading").css("display","block"),l.get("/transaction/api/get-transactions/"+this.accountUserValid).then((function(a){"200"==a.status?(t.transactionInfo.listTransaction=a.data.listTransactions,t.transactionInfo.totalSale=a.data.totalPrice,t.transactionInfo.totalTransaction=a.data.totalTransaction,t.transactionInfo.totalCashOption=a.data.sumPaymentType.countCashOption,t.transactionInfo.totalCardOption=a.data.sumPaymentType.countCardOption,$("#divLoading").css("display","none")):"401"==a.status&&(t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"You do not have permission",icon:"error",showConfirmButton:!1,timer:2100}),$("#divLoading").css("display","none"))}))},searchTransactionByTime:function(){var t=this,a=this.criteria;$("#divLoading").css("display","block"),l.post("/transaction/api/search-transactions/"+this.accountUserValid+"/"+a).then((function(a){"200"==a.status?0==a.data.listTransactions.size?t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Not found any transaction",icon:"info",showConfirmButton:!1,timer:2100}):(t.transactionInfo.listTransaction=a.data.listTransactions,t.transactionInfo.totalSale=a.data.totalPrice,t.transactionInfo.totalTransaction=a.data.totalTransaction,t.transactionInfo.totalCashOption=a.data.sumPaymentType.countCashOption,t.transactionInfo.totalCardOption=a.data.sumPaymentType.countCardOption,$("#divLoading").css("display","none")):t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Some thing went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100})})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),$("#divLoading").css("display","none"),t.listTransaction=[],t.totalSale=0}))},searchTransactionByDate:function(){var t=this,a=this.criteriaSearchDate;$("#divLoading").css("display","block"),l.post("/transaction/api/search-transactions-by-date/"+this.accountUserValid+"/"+a).then((function(a){"200"==a.status?0==a.data.listTransactions.size?t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Not found any transaction",icon:"info",showConfirmButton:!1,timer:2100}):(t.transactionInfo.listTransaction=a.data.listTransactions,t.transactionInfo.totalSale=a.data.totalPrice,t.transactionInfo.totalTransaction=a.data.totalTransaction,t.transactionInfo.totalCashOption=a.data.sumPaymentType.countCashOption,t.transactionInfo.totalCardOption=a.data.sumPaymentType.countCardOption,$("#divLoading").css("display","none")):t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:"Some thing went wrong !!!",icon:"error",showConfirmButton:!1,timer:2100})})).catch((function(a){t.$swal({toast:!0,showProgressBar:!0,position:"top-end",title:a,icon:"error",showConfirmButton:!1,timer:2100}),$("#divLoading").css("display","none"),t.listTransaction=[],t.totalSale=0}))}}},Pt=Nt,St=(o("c959"),Object(u["a"])(Pt,_t,It,!1,null,"e76f246c",null)),$t=St.exports;e["default"].use(f["a"]);var Bt=[{path:"/navigation-bar",name:"NavigationBar",component:p},{path:"/",name:"Login",component:A},{path:"/home/",name:"Home",component:_},{path:"/accounts-user/",name:"AccountUser",component:K},{path:"/not-found",name:"NotFound",component:U},{path:"/profile-user/",name:"ProfileUser",component:J},{path:"/users/",name:"User",component:ot},{path:"/food-and-drink-management/",name:"FoodAndDrink",component:ct},{path:"/sale-management/",name:"Sale",component:vt},{path:"/unauthorize/",name:"Unauthorize",component:wt},{path:"/transaction-list/",name:"TransactionList",component:$t}],Ot=new f["a"]({mode:"history",base:"/",routes:Bt}),kt=Ot,xt=o("2f62");e["default"].use(xt["a"]);var At=new xt["a"].Store({state:{roleUser:"",userName:"",tableId:"",isLogin:!1},mutations:{setRoleUser:function(t,a){t.roleUser=a},setIsLogin:function(t,a){t.isLogin=a},setUserName:function(t,a){t.userName=a},setTableId:function(t,a){t.tableId=a}},actions:{},modules:{},getters:{getRoleUser:function(t){return t.roleUser},getIsLogin:function(t){return t.isLogin},getUserName:function(t){return t.userName},getTableId:function(t){return t.tableId}}}),Lt=o("5f5b"),Rt=o("b1e0"),Et=o("5886"),Tt=o("5acc"),Mt=o.n(Tt),Ut=(o("4413"),o("d435")),Dt=o("1f1a"),qt=o("89bf"),Vt=o("d7b1"),Ft=o("dbbe");e["default"].use(Ft["a"]),e["default"].use(xt["a"]),e["default"].use(rt["a"]),e["default"].use(Vt["a"]),e["default"].use(qt["a"]),e["default"].use(Dt["a"]),e["default"].use(Ut["a"]),e["default"].use(Et["a"]),e["default"].use(Lt["a"]),e["default"].use(Rt["a"]),e["default"].use(b.a),e["default"].use(Mt.a),e["default"].config.productionTip=!1,e["default"].component("paginate",VuejsPaginate),e["default"].component("ValidationProvider",S["a"]),new e["default"]({BootstrapVue:Lt["a"],BootstrapVueIcons:Rt["a"],router:kt,store:At,render:function(t){return t(p)}}).$mount("#app")},"61d9":function(t,a,o){},"765f":function(t,a,o){},"7af9":function(t,a,o){},"89de":function(t,a,o){"use strict";var e=o("3288"),s=o.n(e);s.a},9570:function(t,a,o){"use strict";var e=o("fd02"),s=o.n(e);s.a},9933:function(t,a,o){"use strict";var e=o("e4c0"),s=o.n(e);s.a},c959:function(t,a,o){"use strict";var e=o("765f"),s=o.n(e);s.a},d054:function(t,a,o){t.exports=o.p+"img/coffee-cup.ec26ff1b.png"},d6db:function(t,a,o){"use strict";var e=o("e67a"),s=o.n(e);s.a},d8dd:function(t,a,o){},da28:function(t,a,o){},e4c0:function(t,a,o){},e582:function(t,a,o){"use strict";var e=o("2cdb"),s=o.n(e);s.a},e67a:function(t,a,o){},f15b:function(t,a,o){"use strict";var e=o("d8dd"),s=o.n(e);s.a},f6b2:function(t,a,o){"use strict";var e=o("47bd"),s=o.n(e);s.a},fd02:function(t,a,o){}});
//# sourceMappingURL=app.d13264c5.js.map